/*
 * Copyright (C) Internet Systems Consortium, Inc. ("ISC")
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * See the COPYRIGHT file distributed with this work for additional
 * information regarding copyright ownership.
 */

/*
 * This is just a random selection of configuration options.
 */

/* cut here */
dnssecpolicy "nsec3" {
	description "policy for zones that require zone walking mitigation";
	signatures-resign PT2H;
	signatures-refresh P3D;
	signatures-validity P2W;
	signatures-validity-dnskey P14D;
	signatures-validity-denial P7D;
	signatures-jitter P1D;
	signatures-inception-offset PT300S;
	denial-type nsec3;
	nsec3param-ttl 0;
	nsec3-optout no;
	nsec3-hash-algorithm 1;
	nsec3-hash-iterations 5;
	nsec3-salt-length 8;
	nsec3-resalt P1Y;
	dnskey-ttl 3600;
	dnskey-publish-safety PT3600S;
	dnskey-retire-safety PT3600S;
	share-keys no;
	purge-keys-after P14D;
	keys {
		ksk hsm "softhsm" P1Y offline manual 13 256;
		zsk directory "/etc/bind9/dnsseckeys/" P30D online automatic 13;
	};
	cds yes;
	cdnskey yes;
	zone-propagation-delay PT3600S;
	zone-max-ttl 86400;
	zone-soa-ttl 3600;
	zone-soa-minimum 3600;
	zone-soa-serial-update-method unixtime;
	parent-propagation-delay PT24H;
	parent-ds-ttl 3600;
	parent-soa-ttl 3600;
	parent-soa-minimum 3600;
};
keystore "softhsm" {
	module "/usr/local/lib/libsofthsm.so";
	token-label "BIND9";
	pin 1234;
	capacity 1000;
	require-backup no;
	skip-public-key yes;
};
zone "example" {
	type master;
	dnssec-policy "nsec3";
	file "example.db";
};
